BEGIN_PROLOG
    CrvPhotonArrivals:
    {
      module_type               : CrvPhotonArrivalsGenerator
      g4ModuleLabels            : ["g4filter"]
      processNames              : ["cosmics2"]
      lookupTableFileNames      : ["/mu2e/data/outstage/ehrlich/CRVLookupTables/LookupTable_6600",
                                   "/mu2e/data/outstage/ehrlich/CRVLookupTables/LookupTable_5600",
                                   "/mu2e/data/outstage/ehrlich/CRVLookupTables/LookupTable_4500",
                                   "/mu2e/data/outstage/ehrlich/CRVLookupTables/LookupTable_3000",
                                   "/mu2e/data/outstage/ehrlich/CRVLookupTables/LookupTable_2300",
                                   "/mu2e/data/outstage/ehrlich/CRVLookupTables/LookupTable_900"]
      lookupTableCounterLengths : [6600,5600,4500,3000,2300,900]
      scintillationYield        : 2300.0   //2300.0 photons per MeV
      scintillatorDecayTimeFast : 3.0      //3.0 ns
      scintillatorDecayTimeSlow : 10.0     //10.0 ns
      fiberDecayTime            : 7.4      //7.4 ns
      timeOffsets               : { inputs : [ "protonTimeMap", "muonTimeMap" ] }
      startTime                 : 400.0    //0.0 ns
    }
    CrvSiPMResponses:
    {
      module_type                  : CrvSiPMResponsesGenerator
      crvPhotonArrivalsModuleLabel : "CrvPhotonArrivals"
      numberPixels                 : 1584
      bias                         : 2.4        //V
      scaleFactor                  : 0.08
      minCharge                    : 3.0        //PEs
      blindTime                    : 500.0      //ns

      GeigerProbCoef               : 1.0        // = pc
      GeigerProbVoltScale          : 5.5        // = vs
                                                //from the SiPM specs:
                                                //Geiger probability at over voltage v = 2.4V (bias voltage): 
                                                //0.35 = 1 - exp(-pow(v,pc)/vs)
                                                //Geiger probability at over voltage v = 1.0V: 
                                                //0.17 = 1 - exp(-pow(v,pc)/vs)

      TrapType0Prob                : 0.14       //trap_prob*trap_type0_prob=0.2*0.7
      TrapType1Prob                : 0.06       //trap_prob*trap_type1_prob=0.2*0.3
      TrapType0Lifetime            : 5.0        //ns
      TrapType1Lifetime            : 50.0       //ns

      ThermalProb                  : 6.31e-7    //ns^1     1MHz at SiPM --> 1MHz/#pixel=631Hz at Pixel --> 631 s^-1 = 6.31e-7 ns^-1 

      PhotonProduction             : 0.4        //cross talk (from the SiPM specs): 0.4
                                                //should the PhotonProduction probability be 0.82 ???
                                                //total probability:                     tp = 0.4
                                                //probability with every charge release: p = ?
                                                //probability to release a charge:       r = 0.35 (Geiger probability)
                                                //tp = p*r + (p*r)^2 + (p*r)^3 + ... = (p*r)/(1-p*r)  --> p = tp/(tp*r+r) = 0.82
    }
    CrvWaveforms:
    {
      module_type                  : CrvWaveformsGenerator
      crvSiPMResponsesModuleLabel  : "CrvSiPMResponses"
      singlePEWaveformFileName     : "CRVResponse/test/singlePEWaveform.txt"
      singlePEWaveformBinWidth     : 1.0    //1.0 ns
      singlePEWaveformBins         : 200
      binWidth                     : 12.5   //12.5 ns (digitizer sampling rate)
    }
    CrvRecoPulses:
    {
      module_type               : CrvRecoPulsesFinder
      crvWaveformsModuleLabel   : "CrvWaveforms"
      param0                    : 1.8      //3.2
      param1                    : 49.6     //33.6
      pulseThreshold            : 0.015    //15mV
      leadingEdgeThreshold      : 0.2      //20% of the maximum bin
    }
    CrvCoincidence:
    {
      module_type                  : SimpleCrvCoincidenceCheck
      verboseLevel                 : 1
      coincidenceGroupsFile        : "CRVResponse/test/coincidenceGroups.txt"
      storeCoincidenceCombinations : true
      checkLayers                  : true
      crvRecoPulsesModuleLabel     : "CrvRecoPulses"
      PEthreshold                  : 14
      maxDistance                  : 200      //mm
      maxTimeDifference            : 5        //ns
      timeWindowStart              : 550      //ns
      timeWindowEnd                : 1750     //1695ns  //if timeWindowEnd > microbunch period (1695), then the time window loops back to the begining (0)
    }

END_PROLOG
