
#include "minimalMessageService.fcl"
#include "standardProducers.fcl"
#include "standardServices.fcl"


process_name : TestPID

source : {
  module_type : RootInput
#  fileNames   : [ "/grid/data/mu2e/outstage/murat/cb000101/cb000101.04861x0000"]
  fileNames   : [ "/grid/data/mu2e/outstage/murat/cb000101/cb000101.04861x0000","/grid/data/mu2e/outstage/murat/cb000101/cb000101.04862x0000","/grid/data/mu2e/outstage/murat/cb000101/cb000101.04863x0000","/grid/data/mu2e/outstage/murat/cb000101/cb000101.04865x0000","/grid/data/mu2e/outstage/murat/cb000101/cb000101.04866x0000","/grid/data/mu2e/outstage/murat/cb000101/cb000101.04867x0000","/grid/data/mu2e/outstage/murat/cb000101/cb000101.04868x0000","/grid/data/mu2e/outstage/murat/cb000101/cb000101.04869x0000"]
  maxEvents   : 100
}

services : {
  message      : @local::default_message
#  TFileService : { fileName : "out/ex01.root" }
  TFileService : { fileName : "testpid.root" }

  user : {
    GeometryService        : { inputFile      : "Mu2eG4/test/geom_01.txt"            }
    ConditionsService      : { conditionsfile : "Mu2eG4/test/conditions_01.txt"      }
    GlobalConstantsService : { inputFile      : "Mu2eG4/test/globalConstants_01.txt" }
  }

}

physics : {

  producers : {
    MakeStereoHits : @local::MakeStereoHits
    FlagStrawHits : @local::FlagStrawHits
    FlagBkgHits : @local::FlagBkgHits
# Tracking for some different particle types
    TPRDownstreameMinus : @local::TrkPatRecDownstreameMinus
    TPRDownstreammuMinus : @local::TrkPatRecDownstreammuMinus

    PID:
{
	module_type : ParticleID
	fitterModuleLabel : TPRDownstreameMinus
        fitparticle : 11
        fitdirection : 0
	verbosity : 0
        diagLevel : 1 
	doDisplay : false
}
    
  }

  analyzers : {


      RKFDownstreameMinus :
    {
      module_type    : ReadKalFits
      fitterModuleLabel : TPRDownstreameMinus
      fitparticle : 11
      fitdirection : 0
      verbosity : 0
      maxPrint : 0


    }
      RKFDownstreammuMinus :
    {
      module_type    : ReadKalFits
      fitterModuleLabel : TPRDownstreammuMinus
      fitparticle : 13
      fitdirection : 0
      verbosity : 0
      maxPrint : 0
    }

      PIDReadDownstreameMinus :
    {
      module_type    : ParticleIDRead
      fitterModuleLabel : PID
      verbosity : 0
      maxPrint : 10

         }



  }

  p1 : [ MakeStereoHits, FlagStrawHits, FlagBkgHits, TPRDownstreameMinus, TPRDownstreammuMinus, PID]
  e1 : [ PIDReadDownstreameMinus]

  trigger_paths  : [p1]
  end_paths      : [e1]

}

  outputs:
  {
    # Print info about all data products in the file.
    dump:
    {
      module_type   : DataProductDump
    }
  }