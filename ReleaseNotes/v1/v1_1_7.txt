
  $Id: v1_1_7.txt,v 1.15 2012/03/01 21:19:35 gandr Exp $
  $Author: gandr $
  $Date: 2012/03/01 21:19:35 $

           Release notes for Mu2e Offline software, v1_1_7

13) March 1, 2012 gandr

    More realistic shape of the experimental hall in PS to beam dump region.

12) March 1, 2012 kutschke
    Move StrawIndex.hh from TrackerGeom/inc to DataProducts/inc
    Now all of the data products are included from the *DataProducts
    directories.  This may seem a little weird since it means that the
    Tracker geometry classes depend on a data product. We will live with this
    for now.
      TrackerGeom/inc/StrawIndex.hh
      DataProducts/inc/StrawIndex.hh

    Also changed the files that include this header to get it from the new place:
      Analyses/src/CEL_module.cc
      Analyses/src/RPC_module.cc
      ConditionsService/inc/TrackerCalibrations.hh
      MCDataProducts/inc/StepPointMC.hh
      Mu2eUtilities/inc/BkgElecUtilities.hh
      Mu2eUtilities/inc/ConvElecUtilities.hh
      RecoDataProducts/inc/StrawHit.hh
      TrackerGeom/inc/Straw.hh

    Removed StrawId and dependent classes from the schema.
      DataProducts/src/classes.h
      DataProducts/src/classes_def.xml
    StrawId etc were not used by any data product (and probably should not be). They
    were added to the schema when the strawcluster classes contain lots of extra
    methods; those methods have since been split out into.
       HitMakers/inc/StrawClusterUtilities.hh

11) February 29, 2012 kutschke
    Remove unnecessary #includes that were triggering false positives
    on the tool that finds linkage loops:
       HitMakers/src/MakeExtMonUCITofHits_module.cc
       ExtinctionMonitorUCIGeom/inc/ExtMonUCI.hh
       CaloCluster/src/CaloClusterCog_module.cc
       CaloCluster/src/CaloClusterEff_module.cc
       CaloCluster/src/CaloClusterEnergyResolMap_module.cc
       CaloCluster/src/MakeCaloCluster_module.cc

    To break a linkage loop, move sort_functors.hh from
         Mu2eUtilities/inc
    to   CalorimeterGeom/inc

    Fix includes to find sort_functors.hh in its new home.
       HitMakers/src/MakeCaloCrystalHits_module.cc
       HitMakers/src/MakeCaloReadoutHits_module.cc

    To break a linkage loop, move StrawClusterUtilities from
        Mu2eUtilities/inc and src
    to  HitMakers/inc and src

    The class StrawClusterUtilities many problems and will be totally
    rewritten.  It is parked here just to break the linkage loop.
    After refactoring it should be put into a utility library with
    other tracking related functions. This is not yet designed therefore
    the code is parked here.

10) February 29, 2012 gandr

    Use corrected hall field maps from Mau7b in geom_01.txt

9) February 28, 2012 gandr

   Magnetic field maps for the hall were misinterpreted by the code
   because the points came in a different order than in other maps.
   Improve the map reading code to handle arbitrary ordering of map
   points.

8) February 27, 2012 onoratog
   The old gas material has been restored in the code but is not the default one.
   If you want to use it to compare new simulations with old ones, you have to add
   "StrawGasArCF4" in the list of materials present in the geom_01.txt file, at the point

   vector<string> mu2e.materials = { .... } ;

   Moreover, in the same file, you have to change the line

   vector<string> ttracker.strawMaterials       = { "Kapton", "StrawGas", "G4_W" };

   in

   vector<string> ttracker.strawMaterials       = { "Kapton", "StrawGasArCF4", "G4_W" };

7) February 26, 2012 kutschke
   Mu2eG4/src/G4_module.cc
     If the following line is present in the geometry file then G4 will use its value to
     set the minimum range cut:

     double g4.minRangeCut  = 0.01;

   The value is a distance in mm. This value is used to set the G4 minimum range cut for
   all particles and all materials.  If the line is not present in the geometry file,
   then our code lets the G4 code take its own default value, which I believe is 1 mm for
   the physics lists we usually use.

   It is possible to improve this by setting the minimum range cut only for certain
   particle/logical-volume combinations.  This will be done when there is demand for it.

6) February 24, 2012 genser

   Added two new future stopping processes to  MCDataProducts/inc/ProcessCode.hh

5) February 24, 2012 genser

   Modified Collimator 1 to consist out of  two concentric cylinders
   of different material

4) February 23, 2012 gandr

   Break some of circular dependencies among packages by moving
   Detector.hh and ConditionsEntity.hh into a new package Mu2eInterfaces.

3) February 23, 2012 youzy

   Add virtual planes in ExtMonUCI.

2) February 21, 2012 gandr

   Restructure magnetic field code and implement support for overlapping field maps.

1) February 20, 2012 onoratog

   New informations can be retrieves from SimParticle. They are:

    - Kinetic energy at the beginning of the last step point, through
   double LastKE = sim.preLastStepKineticEnergy()
   given a SimParticle called sim

    - Number of Steps that a particle make before dying, through
   int nTotStep = sim.nSteps()
   always given a SimParticle called sim.

   Another update is about the time folding procedure in the generation
   step. Now it is possible to avoid this feature, writing in the genconfig
   file the line:
   bool FoilParticleGenerator.foldingTimeOption = false;
   The default is true.


