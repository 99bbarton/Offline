#include "minimalMessageService.fcl"
#include "standardProducers.fcl"
#include "standardServices.fcl"
#include "ExtinctionMonitorFNAL/test/marsInputs_monfnal3w1.fcl"

process_name: FromEMFMARSFileWeighted

source: {
    module_type: FromEMFMARSFileWeighted
    fileNames: @local::mars3w1rand1

    runNumber          : 55
    firstSubRunNumber  : 0
    firstEventNumber   : 1

    maxEvents: -1
}

services: {
    message: @local::default_message

    scheduler: { defaultExceptions : false }

    TFileService : { fileName : "ntEMFRoomWeighted.root" }

    user : {
        GlobalConstantsService : { inputFile : "Mu2eG4/test/globalConstants_01.txt" }
        GeometryService : { inputFile : "ExtinctionMonitorFNAL/test/geom_emfMARS.txt" }
    }
}

physics: {
    analyzers: {
        dumper: {
            module_type: MARSGenParticleDumper
            inputModuleLabel   : "FromEMFMARSFileWeighted"
            inputInstanceName  : ""
            geomModuleLabel : ""


            zFront   : -7200
            yFloor   : +1750
            yCeiling : +4493
            xSW      : -1762
            xNE      : +2814
            zBack    : -10200

            sourcePositionTolerance : 2.
        }
    }

    eout : [outfile]
    edump : [ dumper ]
    end_paths : [ eout, edump ]
}

outputs: {
  outfile : {
    module_type   :   RootOutput
    fileName      :   "FromEMFMARSFileWeighted.root"
  }

}
