#include "minimalMessageService.fcl"
#include "standardProducers.fcl"
#include "standardServices.fcl"

process_name : EventDisplay

source :
{
  module_type : RootInput
}

services :
{
  message : @local::default_message
  TFileService : { fileName : "ED.root" }
  RandomNumberGenerator: { }
  user :
  {
    GeometryService        : { inputFile : "Mu2eG4/test/geom_01.txt" }
    ConditionsService : { conditionsfile : "Mu2eG4/test/conditions_01.txt" }
    GlobalConstantsService : { inputFile : "Mu2eG4/test/globalConstants_01.txt" }
    BTrkHelper             : @local::BTrkHelperDefault
    SeedService: @local::automaticSeeds
  }
}

physics :
{
  producers :
  {
    protonTimeMap: { module_type : GenerateProtonTimes }
    muonTimeMap: { module_type : GenerateMuonLife }
    makeSD: @local::makeSD
     makeSH: @local::makeSHfromSD
     FSHPreStereo: @local::FSHPreStereo
     MakeStereoHits: @local::MakeStereoHits
     FlagStrawHits: @local::FlagStrawHits
     FlagBkgHits: @local::FlagBkgHits
# Tracking for some different particle types
     TPRDownstreameMinus : @local::TrkPatRecDownstreameMinus
     TPRDownstreamePlus : @local::TrkPatRecDownstreamePlus
     TPRUpstreameMinus : @local::TrkPatRecUpstreameMinus
     TPRUpstreamePlus : @local::TrkPatRecUpstreamePlus
     TPRDownstreammuMinus : @local::TrkPatRecDownstreammuMinus
     TPRDownstreammuPlus : @local::TrkPatRecDownstreammuPlus
     TPRUpstreammuMinus : @local::TrkPatRecUpstreammuMinus
     TPRUpstreammuPlus : @local::TrkPatRecUpstreammuPlus
  }
   analyzers:
  {
    eventdisplay:
    {
      module_type               : EventDisplay
      g4ModuleLabel             : "g4run"
      physicalVolumesMultiLabel : "compressPV"
    }
  }



  p1 : [protonTimeMap, muonTimeMap, makeSD, makeSH, FSHPreStereo, MakeStereoHits, FlagStrawHits, FlagBkgHits, 
  TPRDownstreameMinus, TPRDownstreamePlus,TPRUpstreameMinus, TPRUpstreamePlus,
  TPRDownstreammuMinus, TPRDownstreammuPlus,TPRUpstreammuMinus, TPRUpstreammuPlus]
 
  e1 : [eventdisplay]
  
  trigger_paths  : [p1]
  end_paths      : [e1]
}


physics.producers.makeSD.TimeOffsets.inputs : [ "protonTimeMap", "muonTimeMap" ] 

services.user.SeedService.baseSeed         :  773651
services.user.SeedService.maxUniqueEngines :  20


