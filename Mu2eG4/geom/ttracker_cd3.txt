//
// Geometry description of the TTracker, based on Mu2e-doc-888-v7
//   All lengths are given in mm.
//   All angles are given in degrees.
//

// basic parameters
bool hasTTracker      = true;
// Tell the TTracker object that we using the detailed support structure.
string ttrackerSupport.model = "detailedv0";
int TTrackerVersion   = 3;
int    ttracker.verbosityLevel     =    0;
// Mother to hold all straws and supports.
double ttracker.mother.rIn         =	379.9; // mm
double ttracker.mother.rOut        =	850.1; // mm
double ttracker.mother.halfLength  =   1635.1; // mm
double ttracker.mother.z0          =  10175.0;  // mm

// overall geometry
string ttracker.mat.vacuum             = "DSVacuum";
double ttracker.envelopeInnerRadius  =   380.0;
double ttracker.z0                   = 10200.0;

// basic geometry numbers
int    ttracker.sectorsPerDevice	    =   6;
int    ttracker.spacingPattern		    =   1;
int    ttracker.layersPerSector             =   2;
int    ttracker.strawsPerManifold           =	1;
int    ttracker.manifoldsPerEnd             =   48;
int    ttracker.numDevices                  =	40;
int    ttracker.rotationPattern             =	2;
// by default, 18 slots of 20 are filled
vector<int> ttracker.nonExistingDevices = { 12,13,26,27 };

// angles and spacings
double ttracker.deviceRotation		    =   60.0;
double ttracker.oddStationRotation          =	60.0;
double ttracker.deviceHalfSeparation        =   25.08;
double ttracker.deviceSpacing               =   155.7;
vector<double> ttracker.manifoldHalfLengths = { 3.125, 5.0, 8.5};
double ttracker.manifoldYOffset             =   0.0;
double ttracker.sectorPhi0                  =   45.0; // degrees

// straw parameters
double ttracker.strawOuterRadius     =     2.5;
double ttracker.strawWallThickness   =     0.015;
double ttracker.strawGap             =     1.25;
double ttracker.wireRadius           =     0.0125;
string ttracker.mat.strawgas  = "StrawGas";
string ttracker.mat.wire      = "G4_W";
vector<string> ttracker.strawMaterials = { "G4_MYLAR", "StrawGas", "G4_W" };
// define an inactive length at each end of every straw
double ttracker.passivationMargin = 10.;
// Define the parameters of the metal coatings on the straws and wires.
double ttracker.straw.wallOuterMetal.thickness  = 0.00005;
string ttracker.straw.wallOuterMetal.material   = "G4_Al";
double ttracker.straw.wallInnerMetal1.thickness = 0.00005;
string ttracker.straw.wallInnerMetal1.material  = "G4_Al";
double ttracker.straw.wallInnerMetal2.thickness = 0.00002;
string ttracker.straw.wallInnerMetal2.material  = "G4_Au";
double ttracker.straw.wirePlate.thickness       = 0.00025;
string ttracker.straw.wirePlate.material        = "G4_Au";

// support description
double ttracker.outerSupportRadius   =   830.0;
double ttracker.innerSupportRadius   =   700.0;
string ttracker.mat.manifold  = "G4_Al";
string ttracker.mat.support   = "G4_Al";
double ttracker.supportHalfThickness        =	2.5;

// endRing =? stiffener ring at the upstream end of the tracker
double ttrackerSupport.endRing.outerRadius =  840.;
double ttrackerSupport.endRing.innerRadius =  700.;
double ttrackerSupport.endRing.halfLength  =   25.;
double ttrackerSupport.endRing.zOffset     = 1610.;
string ttrackerSupport.endRing.material    = "G4_Al";

// midRing =? support rings which connect to the rail system 
vector<int> ttrackerSupport.midRing.slot  = { 4, 14 };
double ttrackerSupport.midRing.halfLength = 10.;

// steves are called beams now
// in doc-db 888.v7 the one at the top is different one from the ones
// on the sides

vector<double> ttrackerSupport.beam0.phiRange = { 81.4, 98.7 };
double ttrackerSupport.beam0.innerRadius   =  810.;
double ttrackerSupport.beam0.outerRadius   =  830.;
string ttrackerSupport.beam0.material      = "G4_Al";

// see fig 8, page 7 in doc-db 888.v7 

vector<double> ttrackerSupport.beam1.phiRange = { 180.4, 221.7 };
vector<double> ttrackerSupport.beam1.phiSpans = { 0.4, 14.1, 34.8, 41.7 }; //deltas from 0
string ttrackerSupport.beam1.material      = "G4_Al";
double ttrackerSupport.beam1.innerRadius   =  810.;
double ttrackerSupport.beam1.midRadius1    =  820.;
double ttrackerSupport.beam1.midRadius2    =  840.;
double ttrackerSupport.beam1.outerRadius   =  850.;
// services and their starting, ending phi positions and materials
vector<double> ttrackerSupport.beam1.servicePhi0s      = { 14.10, 17.64, 21.18, 30.48, 31.35 };
vector<double> ttrackerSupport.beam1.servicePhiEnds    = { 16.28, 21.18, 30.17, 30.63, 34.80 };
vector<double> ttrackerSupport.beam1.serviceOuterRadii = { 840., 840., 840., 840., 840. }; 
// should be >= midRadius1 <= midRadius2
vector<string> ttrackerSupport.beam1.serviceMaterials  = {"G4_Cu", "G4_Cu", "StrawGas", "G4_SILICON_DIOXIDE", "G4_Cu"} ;
vector<double> ttrackerSupport.beam1.serviceCovRelThickness = {.1, .1, .1, .1, .1} ; // fractions of service layers as "covers"
vector<string> ttrackerSupport.beam1.serviceMaterialsCov = 
  { "G4_POLYETHYLENE", "G4_POLYETHYLENE", "StainlessSteel316", "G4_POLYETHYLENE", "G4_POLYETHYLENE" };

// innerRing =? composite manifold of plastic and Al
double ttrackerSupport.innerRing.innerRadius  = 700.;
double ttrackerSupport.innerRing.outerRadius  = 712.7;
double ttrackerSupport.innerRing.halfLength   =  23.8;
string ttrackerSupport.innerRing.material     =  "TrackerManifold";

// centerPlate =? base plate
double ttrackerSupport.centerPlate.halfLength =  4.763.;
string ttrackerSupport.centerPlate.material   = "G4_Al";

// outerRing =? outer ring
double ttrackerSupport.outerRing.innerRadius  = 797.3;
double ttrackerSupport.outerRing.outerRadius  = 810.0;
string ttrackerSupport.outerRing.material     =  "G4_Al";

// cover =? cover
double ttrackerSupport.cover.halfLength       =  1.588; // 1/8" thick
string ttrackerSupport.cover.material         =  "G4_Al";

// electronics =? electronics board and components, including ROC.  Should
// include some Si
double ttrackerSupport.electronics.g10.halfLength  =  1.5;
string ttrackerSupport.electronics.g10.material    =  "G10";
double ttrackerSupport.electronics.cu.halfLength   =  0.5;
string ttrackerSupport.electronics.cu.material     =  "G4_Cu";

// channel =? gap for modeling where the staws go through the manifold
double ttrackerSupport.channel.zOffset  = 11.0;
double ttrackerSupport.channel.depth    =  5.0;
string ttrackerSupport.channel.material =  "DSVacuum";
string ttrackerSupport.electronicsSpace.material =  "StrawGas";

// Debug control for TTracker; uncomment to make only a selected sector.
// it is not about drawing, but about the construction itself
int    ttracker.devDraw  =   -1;
int    ttracker.secDraw  =   -1;
//  
bool   ttracker.envelopeVisible      =  true;
bool   ttracker.envelopeSolid        =  false;
bool   ttracker.deviceEnvelopeVisible = true;
bool   ttracker.deviceEnvelopeSolid   = false;
bool   ttracker.supportVisible        = true;
bool   ttracker.supportSolid          = false;
bool   ttracker.sectorEnvelopeVisible = true;
bool   ttracker.sectorEnvelopeSolid   = false;
bool   ttracker.strawVisible         =  false;
bool   ttracker.strawSolid           =  false;

//
// This tells emacs to view this file in c++ mode.
// Local Variables:
// mode:c++
// End:
