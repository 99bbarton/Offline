// Simulate protons on target for ExtMonFNAL
// 
// Andrei Gaponenko, 2011

#include "minimalMessageService.fcl"
#include "standardProducers.fcl"

// Give this job a name.
process_name : runExtMonFNAL

// Start form an empty source
source : {
   module_type : EmptyEvent
   maxEvents : 200
}

services : {
   message : @local::default_message

   TFileService : { fileName : "runExtMonFNAL.root" }

   user : {

      GeometryService : { inputFile : "Mu2eG4/test/geom_extMonFNAL.txt" }

      ConditionsService : { conditionsfile : "Mu2eG4/test/conditions_01.txt" }

      RandomNumberGenerator : { }

      G4Helper : { }
  }
}

physics : {
   producers : {
      // Generate Event
      generate : {
         module_type   : EventGenerator
         inputfile     : "Mu2eG4/test/genconfig_extMonFNAL.txt"
      }
      
      // Run G4 and add hits to the event
      g4run : {
         module_type          : G4
         generatorModuleLabel : generate
         seed                 : [9877]
      }
   }

   p1 : [generate, g4run  ]
   e1 : [ outfile ]
   trigger_paths  : [p1]
   end_paths      : [e1]
}

outputs:
{
  outfile :
  {
    module_type   :   RootOutput
    fileName      :   "data_extMonFNAL.root"
    outputCommands:   [ "keep *_*_*_*"
#                        ,"drop mu2e::PointTrajectorymv_*_*_*"
                      ]
  }
}
